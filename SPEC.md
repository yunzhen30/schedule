# Google Calendar 風格行程管理系統

## 專案概述
這是一個模仿 Google Calendar 風格的網頁應用程式，提供使用者直覺的行程管理介面。專案使用純前端技術開發，可直接部署到 GitHub Pages。系統支援月、週、日等多種視圖模式，並具備完整的行程管理功能。

## 技術棧
- HTML5
- CSS3
- JavaScript (ES6+)
- Bootstrap 5.3.0 (UI 框架)
- Font Awesome 6.0.0 (圖示)
- Sortable.js 1.15.0 (拖放功能)

## 核心功能

### 1. ✅ 日曆視圖
- 月曆視圖
- 週視圖
- 日視圖
- 視圖切換功能
- 迷你日曆顯示

### 2. ✅ 行程管理
- 新增/編輯/刪除行程
- 全天行程支援
- 行程顏色自訂
- 重複行程設定（每日/每週/每月/每年）
- 行程詳細描述
- 行程時間管理

### 3. ✅ 導航功能
- 今天快速跳轉
- 上一個/下一個週期
- 日期區間顯示
- 多重日曆管理

### 4. ✅ 資料管理
- 使用 localStorage 本地儲存
- JSON 格式匯出/匯入
- 自動資料載入和儲存

### 5. ✅ 使用者介面
- Google Calendar 風格設計
- 響應式布局
- Bootstrap 5 元件整合
- 現代化視覺風格
- 友善的使用者體驗

## 資料結構
行程資料以 JSON 格式儲存在 localStorage 中，結構如下：
```javascript
{
  "events": [
    {
      "id": "1621234567890",
      "title": "行程標題",
      "start": "2025-05-26T09:00:00",
      "end": "2025-05-26T10:00:00",
      "description": "行程描述",
      "color": "#4285f4",
      "repeat": "none",  // none, daily, weekly, monthly, yearly
      "allDay": false
    }
  ]
}
```

## 專案結構
```
├── index.html        # 主要的 HTML 檔案
├── styles.css        # 樣式表
├── script_fixed.js   # 主要 JavaScript 邏輯
├── script.js         # 原始程式碼
├── script_new.js     # 新版本開發中程式碼
└── SPEC.md          # 專案規格說明
```

## 已實現功能
- [x] Google Calendar 風格界面
- [x] 月/週/日視圖切換
- [x] 行程新增/編輯/刪除
- [x] 全天行程支援
- [x] 行程顏色自訂
- [x] 重複行程設定
- [x] 本地資料儲存
- [x] 資料匯出/匯入
- [x] 響應式設計
- [x] 迷你日曆
- [x] 多重日曆支援

## 待開發功能
1. [ ] 拖放功能
   - 行程拖放到不同時段
   - 行程時間調整控制點
   - 行程重疊時的視覺處理
   
2. [ ] 提醒功能
   - 瀏覽器通知
   - 自定義提醒時間
   - 重複行程提醒

3. [ ] 搜尋和過濾
   - 行程搜尋
   - 日曆過濾
   - 進階篩選選項

4. [ ] 資料同步
   - 後端資料庫整合
   - 使用者帳號系統
   - 即時資料同步
   - 離線支援

## 開發指南

### Calendar 類別 API
```javascript
class Calendar {
    // 建構函式
    constructor()
    
    // 核心方法
    init()                 // 初始化日曆
    setView(view)         // 設置視圖模式 (month/week/day)
    navigate(diff)        // 日期導航 (diff: 1=下一個, -1=上一個)
    goToday()            // 跳轉到今天
    renderCalendar()     // 重新渲染日曆
    
    // 事件處理
    showEventModal(event) // 顯示事件編輯視窗
    saveEvent()          // 儲存事件
    deleteEvent()        // 刪除事件
    toggleAllDay()       // 切換全天事件
    
    // 資料管理
    loadEvents()         // 載入事件資料
    saveEvents()         // 儲存事件資料
    exportEvents()       // 匯出事件資料
    importEvents()       // 匯入事件資料
}
```

### 視圖模式實作指南
1. 月視圖
   - 使用 CSS Grid 進行網格佈局
   - 自動計算每個月的天數和起始日
   - 處理跨月份的日期顯示

2. 週視圖
   - 顯示完整的 7 天
   - 每小時為一個時間格
   - 支援行程跨時段顯示

3. 日視圖
   - 24 小時時間軸
   - 詳細的時間格線
   - 支援多個行程重疊顯示

### 新增功能開發指南
1. 程式碼組織
   - 使用類別方法封裝相關功能
   - 保持單一職責原則
   - 統一使用 ES6+ 語法
   - 添加適當的註解

2. UI 開發
   - 遵循 Google Calendar 的設計風格
   - 確保響應式設計
   - 保持使用者體驗一致性
   - 使用 Bootstrap 5 元件

3. 資料處理
   - 統一使用 ISO 日期格式
   - 妥善處理時區問題
   - 注意資料驗證
   - 實作資料備份機制

## 注意事項
1. 日期時間處理
   - 一律使用 ISO 格式處理日期時間
   - 注意時區轉換問題
   - 確保日期計算準確性

2. 效能優化
   - 避免不必要的重新渲染
   - 最小化 DOM 操作
   - 善用事件委派
   - 注意記憶體使用

3. 相容性
   - 支援主流瀏覽器最新版本
   - 適當處理 localStorage 限制
   - 注意 CSS Grid 相容性
   - 提供降級方案

4. 資料安全
   - 資料定期自動儲存
   - 提供資料備份功能
   - 防止資料遺失
   - 處理匯入資料驗證